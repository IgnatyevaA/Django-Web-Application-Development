# Чеклист выполнения критериев курсовой работы

## ✅ Общие критерии проекта
- [x] Решение выложено на GitHub (требуется от пользователя)
- [x] В проекте есть файл `.gitignore`
- [x] В коммиты не добавлены игнорируемые файлы (проверяется через .gitignore)
- [x] В проекте есть файл с зависимостями (`requirements.txt`)
- [x] Файл с зависимостями содержит только необходимые библиотеки (Django, python-dotenv)
- [x] При проверке линтером Flake8 обнаружено не более 5 ошибок (0 ошибок)
- [x] Проект соответствует структуре проектов Django
- [x] Созданы отдельные приложения для пользователей (`users`) и рассылок (`mailings`)
- [x] Настройки приложения лежат в папке `mailing_service` (название проекта)
- [x] Произведены базовые настройки проекта
- [x] Все необходимые данные вынесены в переменные окружения
- [x] Корректно собран шаблон файла `.env` (создан `.env.example`)

## ✅ Модели
- [x] Произведены базовые настройки модели рассылки
- [x] Модель рассылки содержит все необходимые по ТЗ поля (start_time, end_time, status, message, recipients, owner)
- [x] В файле `models.py` приложения рассылок создана модель рассылки
- [x] Поля модели рассылки реализованы в соответствующих типах
- [x] В репозиторий запушены миграции для модели рассылки
- [x] В файле `models.py` приложения рассылок создана модель сообщения
- [x] Произведены базовые настройки модели сообщения
- [x] Модель сообщения содержит все необходимые по ТЗ поля (subject, body, owner)
- [x] Поля модели сообщения реализованы в соответствующих типах
- [x] В репозиторий запушены миграции для модели сообщения
- [x] В файле `models.py` приложения рассылок создана модель получателя рассылки
- [x] Произведены базовые настройки модели получателя рассылки
- [x] Модель получателя рассылки содержит все необходимые по ТЗ поля (email, full_name, comment, owner)
- [x] Поля модели получателя рассылки реализованы в соответствующих типах
- [x] В репозиторий запушены миграции для модели получателя рассылки
- [x] Связи между моделями построены согласно ТЗ (ForeignKey, ManyToMany)
- [x] В приложении пользователя реализована модель пользователя
- [x] Модель пользователя отнаследована от `AbstractUser`
- [x] В модель пользователя добавлены поля email, аватар, номер телефона, страна в соответствующих типах
- [x] В модели пользователя переопределено поле авторизации на email (USERNAME_FIELD = 'email')
- [x] Произведены базовые настройки модели пользователя
- [x] В репозиторий запушены миграции для приложения пользователя
- [x] В настройках проекта заменена `AUTH_USER_MODEL` на текущую созданную
- [x] В файле `models.py` приложения рассылок создана модель попытки рассылки
- [x] Произведены базовые настройки модели попытки рассылки
- [x] Модель попытки рассылки содержит все необходимые по ТЗ поля (attempt_time, status, server_response, mailing, recipient)
- [x] Поля модели попытки рассылки реализованы в соответствующих типах
- [x] В репозиторий запушены миграции для модели попытки рассылки

## ✅ Контроллеры и шаблоны
- [x] Реализован контроллер регистрации пользователя в сервисе (`users/views.py:register`)
- [x] Реализован контроллер аутентификации пользователя в сервисе (`users/views.py:user_login`)
- [x] Реализован контроллер выхода пользователя в сервисе (`users/views.py:user_logout`)
- [x] Реализован контроллер просмотра профиля пользователя в сервисе (`users/views.py:profile`)
- [x] Реализован контроллер редактирования профиля пользователя в сервисе (`users/views.py:profile_edit`)
- [x] Созданы контроллеры CRUD-операций для сообщений (create, update, delete, list, detail)
- [x] Созданы шаблоны для контроллеров CRUD-операций для сообщений
- [x] Шаблоны для работы с сообщениями используют базовый шаблон (`{% extends 'mailings/base.html' %}`)
- [x] Контроллеры CRUD-операций сообщений зарегистрированы на корректные URL
- [x] Созданы контроллеры CRUD-операций для получателей рассылки (create, update, delete, list, detail)
- [x] Созданы шаблоны для контроллеров CRUD-операций для получателей рассылки
- [x] Шаблоны для работы с получателями рассылки используют базовый шаблон
- [x] Контроллеры CRUD-операций клиентов зарегистрированы на корректные URL
- [x] Созданы контроллеры CRUD-операций для рассылок (create, update, delete, list, detail, send)
- [x] Созданы шаблоны для контроллеров CRUD-операций для рассылок
- [x] Шаблоны для работы с рассылками используют базовый шаблон
- [x] Контроллеры CRUD-операций рассылок зарегистрированы на корректные URL

## ✅ Интерфейс
- [x] В интерфейс добавлена кнопка «Вход» для взаимодействия с контроллерами
- [x] В интерфейс добавлена кнопка «Выход» для взаимодействия с контроллерами
- [x] В интерфейс добавлена кнопка «Регистрация» для взаимодействия с контроллерами
- [x] После авторизации пользователя кнопка «Вход» заменяется на «Выход»
- [x] После авторизации пользователя кнопка «Регистрация» исчезает
- [x] На главной странице выводится необходимая информация по ТЗ (общее количество рассылок, активные рассылки, уникальные получатели)
- [x] В шаблон главной страницы передается контекст с необходимыми данными по ТЗ
- [x] Шаблон главной страницы отображает данные корректно
- [x] Выделены отдельные страницы для получателей рассылки, сообщений и рассылок
- [x] В хедере есть кнопки перехода по соответствующим разделам
- [x] Кнопки перехода открыты только авторизованным пользователям
- [x] На страницах сообщений, рассылок и получателей рассылки есть кнопки создания, изменения и удаления
- [x] Кнопки ведут на верные URL
- [x] Выделена отдельная страница для попыток рассылок (`attempt_list`)
- [x] В хедере есть кнопка перехода на страницу попыток рассылки
- [x] Кнопка перехода открыта только авторизованным пользователям
- [x] Кнопки ведут на верные URL

## ✅ Права доступа
- [x] В модели рассылок в класс `Meta` добавлены права для менеджеров согласно ТЗ
- [x] В модели сообщений в класс `Meta` добавлены права для менеджеров согласно ТЗ
- [x] В модели получателей рассылки в класс `Meta` добавлены права для менеджеров согласно ТЗ
- [x] Создана группа «Менеджеры» (команда `create_managers_group`)
- [x] Создана команда для наполнения базы данных группой «Менеджеры»
- [x] В контроллере создания рассылки, получателя рассылки и сообщения установлен `owner = request.user` при создании
- [x] В модели рассылки, получателя рассылки и сообщения добавлено поле «Владелец» (owner)
- [x] Каждый пользователь имеет доступ только к своим рассылкам (фильтрация через `get_user_queryset`)
- [x] Каждый пользователь имеет доступ только к своим получателям рассылки (фильтрация через `get_user_queryset`)
- [x] Реализованы проверки в шаблонах для ограничения доступа к сущностям
- [x] В контроллерах переопределены QuerySet'ы для фильтрации по владельцам (`get_user_queryset`)

## ✅ Кеширование
- [x] Настроено серверное кеширование (LocMemCache, кеширование статистики на главной странице)
- [x] Настроено клиентское кеширование (UpdateCacheMiddleware, FetchFromCacheMiddleware)

## ✅ Рассылки
- [x] Собрана страница с отчетами по рассылке каждого пользователя (`statistics`)
- [x] Реализована отправка рассылки через интерфейс (`send_mailing`)
- [x] Реализована отправка рассылки через командную строку (кастомная команда `send_mailings`)

## ✅ Дополнительные функции
- [x] Реализовано восстановление пароля (Django встроенные views)
- [x] Менеджеры могут блокировать пользователей (через admin панель)
- [x] Менеджеры могут отключать рассылки (view `mailing_disable`)
- [x] Динамический расчет статуса рассылки (метод `get_status()`)
- [x] Валидация форм рассылок (start_time не в прошлом, start_time < end_time)
